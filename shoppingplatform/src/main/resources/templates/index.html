<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>主页</title>
<script th:src="@{/js/jquery-3.1.1.min.js}"></script>
</head>
<body>
	<table th:if="!${roles.empty}">
		<caption>角色表</caption>
		<tr>
			<td>角色</td>
			<td>创建时间</td>
			<td>更改时间</td>
		</tr>
		<tr th:each="role : ${roles}">
			<td th:text="${role.admin}"></td>
			<td
				th:text="${#dates.format(role.createdate, 'yyyy-MM-dd HH:mm:ss')}"></td>
			<td
				th:text="${#dates.format(role.updatedate, 'yyyy-MM-dd HH:mm:ss')}"></td>
		</tr>
	</table>
	<table th:if="!${users.empty}">
		<caption>用户表</caption>
		<tr>
			<td>姓名</td>
			<td>年龄</td>
			<td>邮箱</td>
			<td>性别</td>
			<td>创建时间</td>
			<td>更改时间</td>
		</tr>
		<tr th:each="user : ${users}">
			<td th:text="${user.name}"></td>
			<td th:text="${user.age}"></td>
			<td th:text="${user.email}"></td>
			<td th:text="${user.sex}"></td>
			<td
				th:text="${#dates.format(user.createdate, 'yyyy-MM-dd HH:mm:ss')}"></td>
			<td
				th:text="${#dates.format(user.updatedate, 'yyyy-MM-dd HH:mm:ss')}"></td>
		</tr>
	</table>
	<button th:onclick="'datetest()'">点击</button>
	<form th:action="@{/home/addUser.mvc}" method="post">
	    <input type="text" name="name" value="321"/>
	    <input type="password" name="password" value="321"/>
	    <input type="email" name="email" value="ruidong@greatld.com"/>
	    <input type="submit" value="添加"/>
	</form>
</body>
<script type="text/javascript">
function datetest(){
	       var dateparam="2016-12-12 06:53:23";
	       alert(dateparam);
			$.ajax({
				type: "POST",
				url: '/home/activeUser.mvc',
				data: "updatedate="+dateparam,
				dataType: "json",
				success: function(result) {
					var jsonobj=eval(result);
					alert(jsonobj.updatedate);
				},
				error: function(exception) {
					alert(exception.responseText);
				}
			});
}
</script>
</html>